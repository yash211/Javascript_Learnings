const balance=document.getElementById("balance"),money_plus=document.getElementById("money-plus"),money_minus=document.getElementById("money-minus"),list=document.getElementById("list"),form=document.getElementById("form"),text=document.getElementById("text"),amount=document.getElementById("amount"),localStorageTransactions=JSON.parse(localStorage.getItem("transactions"));let transactions=null!==localStorage.getItem("transactions")?localStorageTransactions:[];function addTransaction(t){t.preventDefault(),""===text.value.trim()||""===amount.value.trim()?alert("please add text and amount"):(t={id:generateID(),text:text.value,amount:+amount.value},transactions.push(t),addTransactionDOM(t),updateValues(),updateLocalStorage(),text.value="",amount.value="")}function generateID(){return Math.floor(1e9*Math.random())}function addTransactionDOM(t){var e=t.amount<0?"-":"+",n=document.createElement("li");n.classList.add(t.amount<0?"minus":"plus"),n.innerHTML=`
      ${t.text} <span>${e}${Math.abs(t.amount)}</span>
      <button class="delete-btn" onclick="removeTransaction(${t.id})">x</button>
      `,list.appendChild(n)}function updateValues(){var t=transactions.map(t=>t.amount),e=(console.log("Amounts",t),t.reduce((t,e)=>t+e,0).toFixed(2)),n=(console.log("Balance",e),t.filter(t=>0<t).reduce((t,e)=>t+e,0).toFixed(2)),t=(console.log("Income",n),(-1*t.filter(t=>t<0).reduce((t,e)=>t+e,0)).toFixed(2));console.log("Expense",t),balance.innerText="$"+e,money_plus.innerText="$"+n,money_minus.innerText="$"+t}function removeTransaction(e){transactions=transactions.filter(t=>t.id!==e),updateLocalStorage(),Init()}function updateLocalStorage(){localStorage.setItem("transactions",JSON.stringify(transactions))}function Init(){list.innerHTML="",transactions.forEach(addTransactionDOM),updateValues()}Init(),form.addEventListener("submit",addTransaction);